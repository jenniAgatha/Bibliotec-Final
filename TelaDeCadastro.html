<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.TeLaDeCadastro.css">
    <title>Tela De Cadastro</title>
</head>
<body>
    <div class="stars"></div>
    <div class="twinkling"></div>
    <div class="clouds"></div>

    <div class="livros-subindo-area">
        <img src="imagens/cut8-removebg-preview (2).png" class="livro-subindo">
        <img src="imagens/Flat_design_planet_collection___Free_Vector-removebg-preview (2).png" class="livro-subindo">
        <img src="imagens/cut4-removebg-preview.png" class="livro-subindo">
        <img src="imagens/cut5-removebg-preview.png" class="livro-subindo">
        <img src="imagens/download__9_-removebg-preview.png" class="livro-subindo">
        <img src="imagens/Flat_design_planet_collection___Free_Vector-removebg-preview (1).png" class="livro-subindo">
    </div>

    <div class="FormCadastro">
        <!-- ETAPA 1: Formulário de Cadastro -->
        <form class="form" id="formCadastro" style="display: block;">
            <p class="title">Registro</p>
            
            <div class="form-control">
                <input type="text" id="nome" class="input" placeholder="Nome Completo" required>
            </div>

            <div class="form-control">
                <input type="email" id="email" class="input" placeholder="Email" required>
            </div>

            <div class="form-control">
                <input type="date" id="data_nascimento" class="input" required>
            </div>
       
            <div class="password-wrapper">
                <input type="password" id="senha" class="input" placeholder="Senha" required>
                <span id="toggleSenha" class="olho" aria-hidden="true"></span>
            </div>

            <div class="form-control">
                <input class="input" type="tel" id="celular" placeholder="(11) 99999-9999" required>
            </div>

            <div class="form-control">
                <select class="input" id="curso" required>
                    <option value="" disabled selected>Curso</option> 
                    <option value="Ads">ADS</option>
                    <option value="Adm">ADM</option>
                </select>
            </div>

            <button type="submit" class="submit">Enviar Código</button>
            <div id="mensagem"></div>
            
            <a href="TelaDeLogin.html" style="display: block; text-align: center; margin-top: 15px; color: #fff;">
                Já tem uma conta? Clique aqui
            </a>
        </form>

        <form class="form" id="formVerificacao" style="display: none;">
            <p class="title">Verificar Email</p>
            <p style="text-align: center; color: #fff; margin-bottom: 20px;">
                Digite o código de 5 dígitos enviado para seu email
            </p>
            
            <div class="form-control">
                <input class="input" type="text" id="codigoVerificacao" placeholder="Código de 5 dígitos" maxlength="5" required>
            </div>

            <button type="submit" class="submit">Confirmar Cadastro</button>
            <button type="button" class="submit" id="btnReenviarCodigo" 
                    style="background: #666; margin-top: 10px;">
                Reenviar Código
            </button>
            
            <div id="mensagemVerificacao"></div>
        </form>
    </div>

    <script src="cadastro.js"></script>
    
    <script>
    // Toggle para mostrar/ocultar senha
    const inputSenha = document.getElementById("senha");
    const toggleSenha = document.getElementById("toggleSenha");

    if (toggleSenha) {
        toggleSenha.addEventListener("click", () => {
            const tipo = inputSenha.getAttribute("type");

            if (tipo === "password") {
                inputSenha.setAttribute("type", "text");
                toggleSenha.classList.add("show");
            } else {
                inputSenha.setAttribute("type", "password");
                toggleSenha.classList.remove("show");
            }
        });
    }

    // Animações de labels (se você tiver)
    (function(){
        function splitLabel(label){
            const text = label.textContent.trim();
            label.textContent = '';
            Array.from(text).forEach((ch,i)=>{
                const span = document.createElement('span');
                span.textContent = ch;
                span.style.transitionDelay = (i*50) + 'ms';
                label.appendChild(span);
            });
        }

        function initializeFormControls() {
            document.querySelectorAll('.form-control').forEach(fc => {
                const input = fc.querySelector('input, select');
                const label = fc.querySelector('label');
                if(!label) return;
                
                label.querySelectorAll('span').forEach(s => s.remove());
                splitLabel(label);

                function update(){
                    if(input.value && input.value.trim() !== '') fc.classList.add('filled');
                    else fc.classList.remove('filled');
                }

                input.addEventListener('focus', ()=> fc.classList.add('focused'));
                input.addEventListener('blur', ()=> fc.classList.remove('focused'));
                input.addEventListener('input', update);
                input.addEventListener('change', update);
        
                update();
            });
        }

        initializeFormControls();

        const observer = new MutationObserver(() => {
            initializeFormControls();
        });

        const formVerificacao = document.getElementById('formVerificacao');
        if (formVerificacao) {
            observer.observe(formVerificacao, { attributes: true, attributeFilter: ['style'] });
        }
    })();
    </script>
</body>
</html>