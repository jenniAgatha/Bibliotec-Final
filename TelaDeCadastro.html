<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.TeLaDeCadastro.css">
    <title>Tela De Cadastro</title>
</head>
<body>
    <div class="stars"></div>
    <div class="twinkling"></div>
    <div class="clouds"></div>

    <div class="livros-subindo-area">
        <img src="imagens/cut8-removebg-preview (2).png" class="livro-subindo">
        <img src="imagens/Flat_design_planet_collection___Free_Vector-removebg-preview (2).png" class="livro-subindo">
        <img src="imagens/cut4-removebg-preview.png" class="livro-subindo">
        <img src="imagens/cut5-removebg-preview.png" class="livro-subindo">
        <img src="imagens/download__9_-removebg-preview.png" class="livro-subindo">
        <img src="imagens/Flat_design_planet_collection___Free_Vector-removebg-preview (1).png" class="livro-subindo">
    </div>

    <div class="FormCadastro">
        <!-- ETAPA 1: Formulário de Cadastro -->
        <form class="form" id="formCadastro" style="display: block;">
            <p class="title">Registro</p>
            
            <div class="form-control">
                <input type="text" id="nome" class="input" placeholder="Nome Completo">
            </div>

            <div class="form-control">
                <input type="email" id="email" class="input" placeholder="Email">
            </div>

            <div class="form-control">
                <input type="date" id="DataDeNascimento" class="input" >
            </div>
       
            
         <div class="password-wrapper">
    <input type="password" id="senha" class="input" placeholder="Senha">
    <span id="toggleSenha" class="olho" aria-hidden="true"></span>
</div>


            <div class="form-control">
                <input class="input" type="tel" id="celular" required=""   placeholder="(11) 99999-9999"
       pattern="\(\d{2}\)\s?\d{5}-\d{4}"
       required>

            </div>

            <div class="form-control">
                <select class="input" id="curso" required>
                <option value="" disabled selected >Curso</option> 
                <option value="Ads">ADS</option>
                <option value="Adm">ADM</option>
            </select>

             <button type="submit" class="submit">Enviar Código</button>
            <div id="mensagem"></div>
            
            <a href="Login.html" style="display: block; text-align: center; margin-top: 15px; color: #fff;">
                Já tem uma conta? Clique aqui
            </a>
        </form>

        <!-- ETAPA 2: Formulário de Verificação (inicialmente oculto) -->
        <form class="form" id="formVerificacao" style="display: none;">
            <p class="title">Verificar Email</p>
            <p style="text-align: center; color: #fff; margin-bottom: 20px;">
                Digite o código de 5 dígitos enviado para seu email
            </p>
            
            <div class="form-control">
                <input class="input" type="text" id="codigoVerificacao" maxlength="5" required="">
                <label>Código de Verificação</label>
            </div>

            <button type="submit" class="submit">Confirmar Cadastro</button>
            <button type="button" class="submit" id="btnReenviarCodigo" 
                    style="background: #666; margin-top: 10px;">
                Reenviar Código
            </button>
            
            <div id="mensagemVerificacao"></div>
        </form>
    </div>

    <script src="cadastro.js"></script>
    
    <script>
    (function(){
        function splitLabel(label){
            const text = label.textContent.trim();
            label.textContent = '';
            Array.from(text).forEach((ch,i)=>{
                const span = document.createElement('span');
                span.textContent = ch;
                span.style.transitionDelay = (i*50) + 'ms';
                label.appendChild(span);
            });
        }

        function initializeFormControls() {
            document.querySelectorAll('.form-control').forEach(fc => {
                const input = fc.querySelector('input');
                const label = fc.querySelector('label');
                if(!label) return;
                
                // Limpa labels anteriores antes de recriar
                label.querySelectorAll('span').forEach(s => s.remove());
                splitLabel(label);

                function update(){
                    if(input.value && input.value.trim() !== '') fc.classList.add('filled');
                    else fc.classList.remove('filled');
                }

                input.addEventListener('focus', ()=> fc.classList.add('focused'));
                input.addEventListener('blur', ()=> fc.classList.remove('focused'));
                input.addEventListener('input', update);
        
                update();
            });
        }

        // Inicializa na carga
        initializeFormControls();

        // Observa mudanças para reinicializar quando o formulário de verificação aparecer
        const observer = new MutationObserver(() => {
            initializeFormControls();
        });

        const formVerificacao = document.getElementById('formVerificacao');
        if (formVerificacao) {
            observer.observe(formVerificacao, { attributes: true, attributeFilter: ['style'] });
        }
    })();



const input = document.getElementById("senha");
const toggle = document.getElementById("toggleSenha");

toggle.addEventListener("click", () => {
  const tipo = input.getAttribute("type");

  if (tipo === "password") {
    input.setAttribute("type", "text");
    toggle.classList.add("show");  // troca o ícone
  } else {
    input.setAttribute("type", "password");
    toggle.classList.remove("show"); // volta o ícone
  }
});
</script>


   
</body>
</html>